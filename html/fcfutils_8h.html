<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PSAS Flight Control Framework: fcfutils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PSAS Flight Control Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fcfutils.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Utility functions for the flight control framework (fcf)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;poll.h&gt;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8cecfc5c5c054d2875c03e77b7be15d"></a><!-- doxytag: member="fcfutils.h::TRUE" ref="aa8cecfc5c5c054d2875c03e77b7be15d" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRUE</b>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa93f0eb578d23995850d61f7d61c55c1"></a><!-- doxytag: member="fcfutils.h::FALSE" ref="aa93f0eb578d23995850d61f7d61c55c1" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FALSE</b>&#160;&#160;&#160;0</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcfutils_8h.html#a8600d8708fbb962daf063bdc0eb1f30a">pollfd_callback</a> )(struct pollfd *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pollfd callback function pointer  <a href="#a8600d8708fbb962daf063bdc0eb1f30a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcfutils_8h.html#a71356f27dcf2394f64c9c392645a86fa">fcf_add_fd</a> (int fd, short events, <a class="el" href="fcfutils_8h.html#a8600d8708fbb962daf063bdc0eb1f30a">pollfd_callback</a> cb)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">adds file descriptor on to the end of the array  <a href="#a71356f27dcf2394f64c9c392645a86fa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcfutils_8h.html#ac918f8465970089bf1cd677969a07dde">fcf_remove_fd</a> (int fd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">simply removes a specified file descriptor from the arrays  <a href="#ac918f8465970089bf1cd677969a07dde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct pollfd *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcfutils_8h.html#a7a732fb6841432447ddf7a228dd83b4c">fcf_get_fd</a> (int idx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the fds array info  <a href="#a7a732fb6841432447ddf7a228dd83b4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a306ae811903f12763eaa665b26a3520f"></a><!-- doxytag: member="fcfutils.h::fcf_stop_main_loop" ref="a306ae811903f12763eaa665b26a3520f" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcfutils_8h.html#a306ae811903f12763eaa665b26a3520f">fcf_stop_main_loop</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">stops main loop <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fcfutils_8h.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function for framework.  <a href="#a0ddf1224851353fc92bfbff6f499fa97"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Utility functions for the flight control framework (fcf) </p>
<p>The core framework file. It starts the main function, introducing the program. This program has signal handlers for when the user exits abruptly using ctrl+C, allowing a graceful shutdown of the software. The main function also initializes the framework and the modules before running the main loop.</p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; LICENSING INFORMATION &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br/>
 FLIGHT CONTROL FRAMEWORK V0.1 Copyright (C) 2013<br/>
 Ron Astin, Clark Wachsmuth, Chris Glasser, Josef Mihalits, Jordan Hewitt, Michael Hooper]<br/>
<br/>
 ----------------------------------------------------------------<br/>
 This program comes with ABSOLUTELY NO WARRANTY;<br/>
 for details please visit <a href="http://www.gnu.org/licenses/gpl.html.">http://www.gnu.org/licenses/gpl.html.</a><br/>
<br/>
 This is free software, and you are welcome to redistribute it<br/>
 under certain conditions; For details, please visit<br/>
 <a href="http://www.gnu.org/licenses/gpl.html.">http://www.gnu.org/licenses/gpl.html.</a><br/>
 ----------------------------------------------------------------<br/>
<br/>
<br/>
</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Team Elderberry </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>March 2nd, 2013 </dd></dl>
</div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a8600d8708fbb962daf063bdc0eb1f30a"></a><!-- doxytag: member="fcfutils.h::pollfd_callback" ref="a8600d8708fbb962daf063bdc0eb1f30a" args=")(struct pollfd *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="fcfutils_8h.html#a8600d8708fbb962daf063bdc0eb1f30a">pollfd_callback</a>)(struct pollfd *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pollfd callback function pointer </p>
<p>takes in a pollfd pointer and acts on individual callback functions. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a71356f27dcf2394f64c9c392645a86fa"></a><!-- doxytag: member="fcfutils.h::fcf_add_fd" ref="a71356f27dcf2394f64c9c392645a86fa" args="(int fd, short events, pollfd_callback cb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fcf_add_fd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fcfutils_8h.html#a8600d8708fbb962daf063bdc0eb1f30a">pollfd_callback</a>&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>adds file descriptor on to the end of the array </p>
<p>Checks to see if the file descriptor arrays are full. If the arrays are full, it calls the expand_arrays() function (this will double the size of the arrays). It adds information to two arrays, the fds and fdx arrays. The fds array has pollfd pointers (required by the poll system call) and the fdx array has fcffd pointers (required by our framework [containing callback functions and other information]) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>- integer correlating to the file descriptor from the process's file descriptor table </td></tr>
    <tr><td class="paramname">events</td><td>- flags for which revents should change </td></tr>
    <tr><td class="paramname">cb</td><td>- poll callback function for the file descriptor </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>index value of newest file descriptor </dd></dl>

</div>
</div>
<a class="anchor" id="a7a732fb6841432447ddf7a228dd83b4c"></a><!-- doxytag: member="fcfutils.h::fcf_get_fd" ref="a7a732fb6841432447ddf7a228dd83b4c" args="(int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct pollfd* fcf_get_fd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns the fds array info </p>
<p>Specifically this function returns the pollfd* information from the fds array for the specified index value </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>- index value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pollfd* info for specified index value </dd></dl>

</div>
</div>
<a class="anchor" id="ac918f8465970089bf1cd677969a07dde"></a><!-- doxytag: member="fcfutils.h::fcf_remove_fd" ref="ac918f8465970089bf1cd677969a07dde" args="(int fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fcf_remove_fd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>simply removes a specified file descriptor from the arrays </p>
<p>If the fd is in the arrays, the fd is removed from both the fds and fdx arrays. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>- integer correlating to the file descriptor from the process's file descriptor table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a><!-- doxytag: member="fcfutils.h::main" ref="a0ddf1224851353fc92bfbff6f499fa97" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main function for framework. </p>
<p>Prints the licensing information, and software version number. It contains the signal handler for graceful shutdown should the user CTRL-C out of the program. It then initializes the framework and runs the polling loop. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>EXIT_SUCCESS </dd>
<dd>
EXIT_FAILURE </dd></dl>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sat Mar 16 2013 10:12:18 for PSAS Flight Control Framework by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
